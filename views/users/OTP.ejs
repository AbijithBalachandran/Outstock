<%- include('../layout/header') %>
<%- include('../layout/navbarH') %>
<%- include('../layout/navbarF') %>

<div id="searchTop" class="search-modal modal fade" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content container border-0">
      <div class="modal-header border-0 p-0 text-center flex-column">
        <button type="button" class="btn-close m-auto w-auto h-auto p-0 text-primary" data-bs-dismiss="modal" aria-label="Close">
          <svg class="icon" width="28" height="28" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.48627 9.32917L2.82849 3.67098" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2.88539 9.38504L8.42932 3.61524" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <h4 class="modal-title pb-0 pt-2 pt-md-5 mb-2" id="searchTopLabel">Search</h4>
      </div>
      <div class="search-modal__content " tabindex="-1">
        <predictive-search class="search-modal__form w-100" data-loading-text="Loading...">
          <form action="https://vela-kazan.myshopify.com/search" method="get" role="search" class="search search-modal__form position-relative pe-5 border-bottom">
            <input class="search__input form-control search-input border-0 px-0" id="Search-In-Modal-1" type="search" name="q" value="" placeholder="Enter keywords to search..." role="combobox" aria-expanded="false" aria-owns="predictive-search-results-list" aria-controls="predictive-search-results-list" aria-haspopup="listbox" aria-autocomplete="list" autocorrect="off" autocomplete="off" autocapitalize="off" spellcheck="false">
            <label class="d-none" for="Search-In-Modal">Enter keywords to search...</label>
            <input type="hidden" name="type" value="product" />
            <input type="hidden" name="options[sort_by]" value="price-descending" />
            <button class="search__button btn btn-link p-0 text-end position-absolute end-0" aria-label="Enter keywords to search...">
              <svg class="icon icon-search" width="24" height="24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
                <path fill="currentColor" d="M344.5,298c15-23.6,23.8-51.6,23.8-81.7c0-84.1-68.1-152.3-152.1-152.3C132.1,64,64,132.2,64,216.3c0,84.1,68.1,152.3,152.1,152.3c30.5,0,58.9-9,82.7-24.4l6.9-4.8L414.3,448l33.7-34.3L339.5,305.1L344.5,298z M301.4,131.2c22.7,22.7,35.2,52.9,35.2,85c0,32.1-12.5,62.3-35.2,85c-22.7,22.7-52.9,35.2-85,35.2c-32.1,0-62.3-12.5-85-35.2c-22.7-22.7-35.2-52.9-35.2-85c0-32.1,12.5-62.3,35.2-85c22.7-22.7,52.9-35.2,85-35.2C248.5,96,278.7,108.5,301.4,131.2z"></path>
              </svg>
            </button>
            <div class="predictive-search predictive-search--header position-absolute bg-white overflow-auto" tabindex="-1" data-predictive-search>
              <div class="predictive-search__loading-state d-none">
                <svg aria-hidden="true" focusable="false" role="presentation" class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                  <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
                </svg>
              </div>
            </div>
            <span class="predictive-search-status visually-hidden" role="status" aria-hidden="true"></span>
          </form>
        </predictive-search>
      </div>
    </div>
  </div>
</div>
<script>
  var myCollapsible = document.getElementById('searchTop');
  myCollapsible.addEventListener('shown.bs.modal', function () {
    document.getElementById('Search-In-Modal-1').focus();
  });
</script>
<main id="MainContent" class="main-content content-for-layout" tabindex="-1">
  <div class="main-content__inner">
    <section id="shopify-section-template--14955324637249__breadcrumb" class="shopify-section velaFramework"> 
      <div class="vela-breadcrumbs vela-section overflow-hidden d-flex flex-wrap align-items-center vela-breadcrumbs--image" style="--st-bg-cl:#f6f6f4;--breadcrumb-color-link:#c3c3c3;--breadcrumb-color:#201f1f;--breadcrumb-heading-color:#323232;--breadcrumb-mh:400px;--breadcrumb-mh-m:60px,">
        <!-- Header div Start  -->
        <div class="vela-breadcrumbs__image lazyload"
          data-bgset="//vela-kazan.myshopify.com/css/cdn/shop/files/breadcrumb-bg1_180x.jpg?v=1614322107 180w ,//vela-kazan.myshopify.com/css/cdn/shop/files/breadcrumb-bg1_360x.jpg?v=1614322107 360w ,//vela-kazan.myshopify.com/css/cdn/shop/files/breadcrumb-bg1_540x.jpg?v=1614322107 540w ,//vela-kazan.myshopify.com/css/cdn/shop/files/breadcrumb-bg1_720x.jpg?v=1614322107 720w ,//vela-kazan.myshopify.com/css/cdn/shop/files/breadcrumb-bg1_900x.jpg?v=1614322107 900w ,//vela-kazan.myshopify.com/css/cdn/shop/files/breadcrumb-bg1_1080x.jpg?v=1614322107 1080w ,//vela-kazan.myshopify.com/css/cdn/shop/files/breadcrumb-bg1_1296x.jpg?v=1614322107 1296w ,//vela-kazan.myshopify.com/css/cdn/shop/files/breadcrumb-bg1_1512x.jpg?v=1614322107 1512w ,//vela-kazan.myshopify.com/css/cdn/shop/files/breadcrumb-bg1_1728x.jpg?v=1614322107 1728w ,//vela-kazan.myshopify.com/css/cdn/shop/files/breadcrumb-bg1.jpg?v=1614322107 1920w"
          data-sizes="auto"
          data-parent-fit="cover">
          <img src="/css/cdn/shop/bg-breadcrumb.jpg" alt="">
        </div>
        <div class="container">
          <div class="vela-breadcrumbs__inner align-items-center flex-column text-center" aria-label="breadcrumb">
            <h1 class="vela-breadcrumbs__title mb-1 d-none d-md-block">OTP Verification</h1>
            <ol class="breadcrumb m-0" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li class="breadcrumb-item breadcrumb__item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
                <a class="breadcrumb__link" href="../home" title="Home" itemprop="item">
                  <span itemprop="name">Home</span>
                </a>
                <meta itemprop="position" content="1" />
              </li>
              <li class="breadcrumb-item breadcrumb__item active" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
                <span class="breadcrumb__text">
                  <span itemprop="name">OTP</span>
                </span>
                <meta itemprop="position" content="2" />
              </li>
            </ol>
          </div>
        </div>
      </div>
    </section>
    <div id="shopify-section-template--14955324637249__main" class="shopify-section">
      <link href="./css/cdn/shop/t/56/assets/customerc0ce.css?v=75781396961915267131705141211" rel="stylesheet" type="text/css" media="all" />
      <!-- header Div End  -->
      <!-- OTP Entering Boxes -->
      <div class="customer login">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-md-6 col-lg-4">
              <div class="login__form">
                <% if(typeof message !== 'undefined'){ %>
                  <p class="text-danger"><%=message%></p>
                <% } %>
                <form method="POST" action="/OTP">
                  <div class="border mt-5 p-4 text-center">
                    <input type="number" class="form-control d-inline-block text-center" style="width: 50px; height: 50px; margin: 10px;" name="OTP" min="0" max="9" maxlength="1" required>
                    <input type="number" class="form-control d-inline-block text-center" style="width: 50px; height: 50px; margin: 10px;" name="OTP" min="0" max="9" maxlength="1" required>
                    <input type="number" class="form-control d-inline-block text-center" style="width: 50px; height: 50px; margin: 10px;" name="OTP" min="0" max="9" maxlength="1" required>
                    <input type="number" class="form-control d-inline-block text-center" style="width: 50px; height: 50px; margin: 10px;" name="OTP" min="0" max="9" maxlength="1" required>
                  </div>
                  <!-- the Boxes End  -->
                  <!-- Enter OTP and Resend OTP _With Timer -->
                  <div class="text-center">
                    <button type="submit" class="btn btn-primary mt-4">Submit</button>
                    <div id="OTP-timer" class="mt-3 text-primary mb-2">Resend the OTP <span id="start">30</span> seconds</div>
                    <div id="resendOTP" class="mt-3 text-primary" style=" display: none;">Didn't receive OTP? <a id="resend" class="text-primary" href="/resendOTP">Resend</a></div>
                  </div>
                  <!-- The End of Enter OTP and Resend OTP _With Timer -->
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End of OTP Entering Boxes -->
    </div>
  </div>
</main>

<script>
  document.addEventListener('DOMContentLoaded', (event) => {
    const otpInputs = document.querySelectorAll('input[type="number"]');

    otpInputs.forEach((input, index) => {
      input.addEventListener('input', (e) => {
        const value = e.target.value;
        if (value.length > 1) {
          e.target.value = value.slice(0, 1);
        }
        if (value.length === 1) {
          if (index < otpInputs.length - 1) {
            otpInputs[index + 1].focus();
          }
        }
      });

      input.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && e.target.value.length === 0) {
          if (index > 0) {
            otpInputs[index - 1].focus();
          }
        }
      });
    });
  });
</script>

<script src="/js/OTP.js" type="text/javascript"></script>

<%- include('../layout/footer') %>