<%- include ('../layout/header') %>

<!-- <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"> -->

<%- include ('../layout/navbarH') %>
<%- include ('../layout/navbarF') %>


<main id="MainContent" class="main-content content-for-layout" tabindex="-1">
      <div class="main-content__inner">
            <section id="shopify-section-template--14955325587521__breadcrumb" class="shopify-section velaFramework">	<div class="vela-breadcrumbs vela-section overflow-hidden d-flex flex-wrap align-items-center vela-breadcrumbs--image" style="--st-bg-cl:#f6f6f4;--breadcrumb-color-link:#c3c3c3;
      --breadcrumb-color:#201f1f;
      --breadcrumb-heading-color:#323232;
      --breadcrumb-mh:400px;
      --breadcrumb-mh-m:60px,"><div class="vela-breadcrumbs__image lazyload"
            data-bgset="//vela-kazan.myshopify.com/cdn/shop/files/breadcrumb-bg1_180x.jpg?v=1614322107 180w ,//vela-kazan.myshopify.com/cdn/shop/files/breadcrumb-bg1_360x.jpg?v=1614322107 360w ,//vela-kazan.myshopify.com/cdn/shop/files/breadcrumb-bg1_540x.jpg?v=1614322107 540w ,//vela-kazan.myshopify.com/cdn/shop/files/breadcrumb-bg1_720x.jpg?v=1614322107 720w ,//vela-kazan.myshopify.com/cdn/shop/files/breadcrumb-bg1_900x.jpg?v=1614322107 900w ,//vela-kazan.myshopify.com/cdn/shop/files/breadcrumb-bg1_1080x.jpg?v=1614322107 1080w ,//vela-kazan.myshopify.com/cdn/shop/files/breadcrumb-bg1_1296x.jpg?v=1614322107 1296w ,//vela-kazan.myshopify.com/cdn/shop/files/breadcrumb-bg1_1512x.jpg?v=1614322107 1512w ,//vela-kazan.myshopify.com/cdn/shop/files/breadcrumb-bg1_1728x.jpg?v=1614322107 1728w ,//vela-kazan.myshopify.com/cdn/shop/files/breadcrumb-bg1.jpg?v=1614322107 1920w"
            data-sizes="auto"
            data-parent-fit="cover"></div><div class="container">
      <div class="vela-breadcrumbs__inner align-items-center flex-column" aria-label="breadcrumb"><h1 class="vela-breadcrumbs__title mb-1 d-none d-md-block">Wishlist</h1>
            <ol class="breadcrumb m-0" itemscope itemtype="http://schema.org/BreadcrumbList">
                  <li class="breadcrumb-item breadcrumb__item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
                        <a class="breadcrumb__link" href="../index.html" title="Home" itemprop="item">
                              <span itemprop="name">Home</span>
                        </a>
                        <meta itemprop="position" content="1" />
                  </li>
                  <li class="breadcrumb-item breadcrumb__item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
                    <a class="breadcrumb__link" href="../profile?id=<%=user.id %>" title="Home" itemprop="item">
                          <span itemprop="name">Profile</span>
                    </a>
                    <meta itemprop="position" content="1" />
              </li>
                  <li class="breadcrumb-item breadcrumb__item active" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
                        <span class="breadcrumb__text">
                              <span itemprop="name">Wishlist</span>
                        </span>
                        <meta itemprop="position" content="2" />
                  </li>
            </ol>
      </div>
</div>
</div>

</section>

<style>
    .product-card {
        max-width: 300px;
        margin: auto;
        padding: 20px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        background-color: white;
        border-radius: 8px;
        text-align: center;
    }
    .product-image {
        height: 200px;
        width: 100%;
        object-fit: cover;
        border-radius: 8px;
    }
    .product-info {
        margin: 15px 0;
    }
    .icon-container {
    position: absolute;
    top: 10px;
    right: 10px;
}

.btn-icon {
    background-color: transparent;
    border: none;
    font-size: 24px;
    color: #007bff;
    transition: color 0.3s ease;
}

.btn-icon:hover {
    color: #0056b3;
}

.product-card {
    position: relative;
    border: 1px solid #eaeaea;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

</style>
</head>
<body>
    <div class="container mt-5">
        <div class="row">
            <% if (typeof wishlistItem !== 'undefined'&& wishlistItem.length > 0) { %>
                <% wishlistItem.forEach(item => { %>
                    <% if (item.products) { %>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
                        <div class="product-card">
                            <div class="icon-container">
                                <button type="button" class="btn btn-icon" onclick="addProductCart(event,'<%=item.products.id%>')" data-bs-toggle="tooltip" data-bs-placement="top" title="Add To Cart">
                                    <i class="bi bi-cart"></i>
                                </button>
                            </div>
                            <img src="/upload/product/<%= item.products.images[0] %>" class="product-image img-fluid" alt="Product Image" style="width: 100px; height: 100px;">
                            <div class="product-info mt-2">
                                <h5><%= item.products.name %></h5>
                                <p class="text-muted">Quantity: <%= item.products.quantity %></p>
                                <p><strong>$<%= item.products.price %></strong></p>
                            </div>
                            <button type="button" class="btn btn-danger mt-2" onclick="removeProductWishlist(event,'<%= item.products.id %>', '<%= user.id %>')">Remove</button>
                        </div>
                    </div>
            <%}%>
                <% }) %>
            </div>
        <% } else{ %>
                <section id="shopify-section-template--14955325587521__wishlist" class="shopify-section">
                    <div class="wishlist-page vela-section overflow-hidden" style="--st-bg-cl: ;--st-pd-dt: 100px 0;--st-pd-mb: 60px 0;--st-cl: ;--st-cl-l: ;">
                        <div class="container">
                            <div class="vela-section__inner">
                                <div class="wishlist-page__content position-relative loading" style="min-height: 400px;">
                                    <div class="pre-loading position-absolute">
                                        <span class="pre-loading__bar"></span>
                                        <div class="vela-loading__icon">
                                            <span></span><span></span><span></span><span></span>
                                        </div>
                                    </div>
                                    <div class="wishlist-empty position-absolute translate-middle start-50 top-50 d-none">
                                        <span class="alert alert-info d-block">There are no products in wishlist.
                                            <a class="h6 d-inline-block ms-1" href="/shop" title="Continue shopping">Continue shopping</a>
                                        </span>
                                    </div>
                                    <div class="wishlist-grid row g-2 g-md-3 gy-lg-5 row-cols-2 row-cols-md-3 row-cols-lg-4" grid-wishlist=""></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
            <% } %>
        </div>
        
</main>





 <!-- Pagination Start -->

 <nav aria-label="Page navigation example" class="d-flex justify-content-end me-4">
    <ul class="pagination">
        <%- JSON.stringify(currentPage) %>
        <% if (currentPage > 1) { %>
            <li class="page-item">
                <a class="page-link" href="/wishlist?id=<%= user.id %>&&page=<%= currentPage - 1 %>" tabindex="-1">Previous</a>
            </li>
        <% } else { %>
            <li class="page-item disabled">
                <a class="page-link" href="" tabindex="-1">Previous</a>
            </li>
        <% } %>
  
        <% for (let i = 1; i <= totalPages; i++) { %>
            <li class="page-item <%= i === currentPage ? 'active' : '' %>">
                <a class="page-link" href="/wishlist?id=<%= user.id %>&&page=<%= i %>"><%= i %></a>
            </li>
        <% } %>
  
        <% if (currentPage < totalPages) { %>
            <li class="page-item">
                <a class="page-link" href="/wishlist?id=<%= user.id %>&&page=<%= currentPage + 1 %>">Next</a>
            </li>
        <% } else { %>
            <li class="page-item disabled">
                <a class="page-link" href=" " tabindex="-1">Next</a>
            </li>
        <% } %>
    </ul>
  </nav>
  
  <!-- Pagination End -->
  
  
  <style>
  
    .pagination {
        display: flex;
        justify-content: center;
        padding-left: 0;
        list-style: none;
        border-radius: 0.25rem;
    }
    
    .pagination .page-item {
        margin: 0 0.25rem;
    }
    
    .pagination .page-item .page-link {
        position: relative;
        display: block;
        padding: 0.5rem 0.75rem;
        margin-left: -1px;
        line-height: 1.25;
        color: #ffa600bd;
        background-color: #fff;
        border: 1px solid #dee2e6;
        border-radius: 0.25rem;
        transition: all 0.3s;
    }
    
    .pagination .page-item .page-link:hover {
        color: #b36b008f;
        text-decoration: none;
        background-color: #e9ecef;
        border-color: #dee2e6;
    }
    
    .pagination .page-item.active .page-link {
        z-index: 1;
        color: #fff;
        background-color: #ff7b0098;
        border-color: #ff7b0098;
    }
    
    .pagination .page-item.disabled .page-link {
        color: #6c757d;
        pointer-events: none;
        background-color: #fff;
        border-color: #dee2e6;
    }
    
    .pagination .page-item:first-child .page-link {
        border-top-left-radius: 0.25rem;
        border-bottom-left-radius: 0.25rem;
    }
    
    .pagination .page-item:last-child .page-link {
        border-top-right-radius: 0.25rem;
        border-bottom-right-radius: 0.25rem;
    }
    
    
                        </style>





<script src="/js/addToCart.js"></script>
<script src="/js/removewishlist.js"></script>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<%- include ('../layout/footer') %>